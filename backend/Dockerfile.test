# Dockerfile pour les tests
FROM python:3.11-slim

# Définir le répertoire de travail
WORKDIR /app

# Copier les fichiers requirements
COPY requirements.txt requirements-test.txt ./

# Installer les dépendances
RUN pip install --no-cache-dir -r requirements.txt
RUN pip install --no-cache-dir -r requirements-test.txt

# Copier le code source
COPY . .

# Exposer le port
EXPOSE 8000

# Commande par défaut pour les tests
CMD ["pytest", "test_api.py", "-v", "--tb=short"]
